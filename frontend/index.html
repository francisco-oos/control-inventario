<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Control de Inventario</title>

<!-- Estilos -->
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/sidebar.css">
<link rel="stylesheet" href="css/tabs.css">
</head>

<body>
<header>CONTROL DE INVENTARIO</header>

<main>
  <!-- ==========================================================
       MENÚ LATERAL
       ========================================================== -->
  <aside>
    <ul>
      <li>
        <a class="menu-item">Material Sísmico</a>
        <ul class="submenu">
          <!-- Sección: Incautado -->
          <li><a href="#" data-section="incautado">Incautado</a></li>

          <!-- Submenú: Mantenimiento -->
          <li>
            <a class="menu-item">Mantenimiento</a>
            <ul class="submenu">
              <li><a href="#" data-section="actualizar-nodos">Actualizar nodos</a></li>
              <li><a href="#" data-section="ver-mantenimiento">Ver mantenimiento</a></li>
            </ul>
          </li>

          <!-- Sección: Almacenado -->
          <li><a href="#" data-section="almacenado">Almacenado</a></li>

          <!-- Sección: General -->
          <li><a href="#" data-section="general">General</a></li>

          <!-- NUEVA SECCIÓN: Cargar Estatus (genérico para cualquier tipo) -->
          <li><a href="#" data-section="estatus">Cargar Estatus (CSV)</a></li>
        </ul>
      </li>

      <!-- Reportes -->
      <li><a href="#" data-section="reportes">Generar Reportes</a></li>
    </ul>
  </aside>

  <!-- ==========================================================
       CONTENIDO PRINCIPAL
       ========================================================== -->
  <section id="content-area">
    <!-- Pantalla de bienvenida -->
    <div id="placeholder">
      <h2>Bienvenido</h2>
      <p>Selecciona una opción del menú lateral para comenzar.</p>
    </div>

    <!-- Vista general (Tecnologías y Nodos) -->
    <div id="vista-general" style="display:none;">
      <ul id="tabs">
        <li><a href="#" class="tab-link active" data-tab="tecnologias">Tecnologías</a></li>
        <li><a href="#" class="tab-link" data-tab="nodos">Nodos</a></li>
      </ul>

      <div id="tecnologias" class="content active">
        <h2>Tecnologías</h2>
        <p>Aquí puedes aplicar tus filtros y modificar el estatus.</p>
        <div id="tabla-tecnologias"></div>
      </div>

      <div id="nodos" class="content">
        <h2>Nodos</h2>
        <div id="tabla-nodos"></div>
      </div>
    </div>

    <!-- Vista: Material Incautado -->
    <div id="vista-incautado" style="display:none;">
      <h2>Material Incautado</h2>
      <p>Contenido pendiente de construcción.</p>
    </div>

    <!-- Vista: Actualizar Nodos -->
    <div id="vista-actualizar-nodos" style="display:none;">
      <h2>Actualizar Nodos</h2>
      <p>Sube un archivo CSV para actualizar los nodos en mantenimiento.</p>

      <form id="form-csv" enctype="multipart/form-data">
        <input type="file" id="csvFile" accept=".csv" required>
        <button type="submit">Cargar CSV</button>
      </form>

      <div id="csv-preview" style="margin-top:20px; display:none;">
        <h3>Vista previa del archivo:</h3>
        <table id="tabla-preview" border="1" cellpadding="5">
          <thead></thead>
          <tbody></tbody>
        </table>
        <button id="btn-enviar-csv" style="margin-top:10px;">Actualizar Base de Datos</button>
      </div>
    </div>

    <!-- Vista: Ver Mantenimiento -->
    <div id="vista-ver-mantenimiento" style="display:none;">
      <h2>Ver Mantenimiento</h2>
      <label for="fecha-inicio">Fecha inicio:</label>
      <input type="date" id="fecha-inicio">
      <label for="fecha-fin">Fecha fin:</label>
      <input type="date" id="fecha-fin">
      <button id="btn-filtrar-mantenimiento">Filtrar</button>

      <table id="tabla-mantenimiento" border="1" cellpadding="5" style="margin-top:10px; width:100%;">
        <thead>
          <tr>
            <th>Serie</th>
            <th>Tecnología</th>
            <th>Fecha ingreso</th>
            <th>Días en mantenimiento</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <!-- Vista: Almacenado -->
    <div id="vista-almacenado" style="display:none;">
      <h2>Almacenado</h2>
      <p>Contenido pendiente de construcción.</p>
    </div>

    <!-- NUEVA Vista: Cargar Estatus genérico -->
    <div id="vista-estatus" style="display:none;">
      <h2>Cargar Estatus (CSV)</h2>
      <!-- Aquí se genera dinámicamente el formulario con cargarEstatus.js -->
    </div>

    <!-- Vista: Reportes -->
    <div id="vista-reportes" style="display:none;">
      <h2>Generar Reportes</h2>
      <p>Contenido pendiente de construcción.</p>
    </div>
  </section>
</main>

<footer>© 2025 - Sistema de Control de Material</footer>

<!-- ==========================================================
     LIBRERÍAS Y SCRIPTS
     ========================================================== -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Scripts del sistema -->
<script src="js/sidebar.js"></script>
<script src="js/tabs.js"></script>
<script src="js/dataHandler.js"></script>
<script src="js/nodosHandler.js"></script>
<script src="js/main.js"></script>

<!-- Nuevo script de carga de estatus -->
<script src="js/cargarEstatus.js"></script>

<!-- Vista: Mantenimiento -->
<script src="js/verMantenimiento.js"></script>

</body>
</html>
